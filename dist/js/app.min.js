(()=>{"use strict";const e={};let t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}};function o(){if(location.hash)return location.hash.replace("#","")}let s=!0,n=(e=500)=>{document.documentElement.classList.contains("lock")?i(e):a(e)},i=(e=500)=>{let t=document.querySelector("body");if(s){let o=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<o.length;e++){o[e].style.paddingRight="0px"}t.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),e),s=!1,setTimeout((function(){s=!0}),e)}},a=(e=500)=>{let t=document.querySelector("body");if(s){let o=document.querySelectorAll("[data-lp]");for(let e=0;e<o.length;e++){o[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),s=!1,setTimeout((function(){s=!0}),e)}};const r=document.querySelector(".menu__icon"),l=document.querySelector(".menu__body");document.querySelectorAll(".menu__link");let c=(e=0)=>{document.documentElement.classList.contains("menu-open")?u():(a(),document.documentElement.classList.add("menu-open"),r.classList.add("_active"),l.classList.add("_active"))};function u(){i(),document.documentElement.classList.remove("menu-open"),l.classList.remove("_active"),r.classList.remove("_active")}document.addEventListener("keydown",(function(e){"Escape"===e.code&&document.documentElement.classList.contains("menu-open")&&u()}));function d(e){setTimeout((()=>{window.FLS&&console.log(e)}),0)}function h(e){return e.filter((function(e,t,o){return o.indexOf(e)===t}))}e.popup=new class{constructor(e){let t={logging:!0,init:!0,attributeOpenButton:"data-popup",attributeCloseButton:"data-close",fixElementSelector:"[data-lp]",youtubeAttribute:"data-popup-youtube",youtubePlaceAttribute:"data-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"popup__content",popupActive:"popup_show",bodyActive:"popup-show"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...t,...e,classes:{...t.classes,...e?.classes},hashSettings:{...t.hashSettings,...e?.hashSettings},on:{...t.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.popupLogging("Проснулся"),this.eventsPopup()}eventsPopup(){document.addEventListener("click",function(e){const t=e.target.closest(`[${this.options.attributeOpenButton}]`);if(t)return e.preventDefault(),this._dataValue=t.getAttribute(this.options.attributeOpenButton)?t.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,"error"!==this._dataValue?(this.isOpen||(this.lastFocusEl=t),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,void this.open()):void this.popupLogging(`Ой ой, не заполнен атрибут у ${t.classList}`);return e.target.closest(`[${this.options.attributeCloseButton}]`)||!e.target.closest(`.${this.options.classes.popupContent}`)&&this.isOpen?(e.preventDefault(),void this.close()):void 0}.bind(this)),document.addEventListener("keydown",function(e){if(this.options.closeEsc&&27==e.which&&"Escape"===e.code&&this.isOpen)return e.preventDefault(),void this.close();this.options.focusCatch&&9==e.which&&this.isOpen&&this._focusCatch(e)}.bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}.bind(this)),window.addEventListener("load",function(){window.location.hash&&this._openToHash()}.bind(this)))}open(e){if(s)if(this.bodyLock=!(!document.documentElement.classList.contains("lock")||this.isOpen),e&&"string"==typeof e&&""!==e.trim()&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(this.targetOpen.selector),this.targetOpen.element){if(this.youTubeCode){const e=`https://www.youtube.com/embed/${this.youTubeCode}?rel=0&showinfo=0&autoplay=1`,t=document.createElement("iframe");t.setAttribute("allowfullscreen","");const o=this.options.setAutoplayYoutube?"autoplay;":"";if(t.setAttribute("allow",`${o}; encrypted-media`),t.setAttribute("src",e),!this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)){this.targetOpen.element.querySelector(".popup__text").setAttribute(`${this.options.youtubePlaceAttribute}`,"")}this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(t)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.classList.add(this.options.classes.popupActive),document.documentElement.classList.add(this.options.classes.bodyActive),this._reopen?this._reopen=!1:!this.bodyLock&&a(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout((()=>{this._focusTrap()}),50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}})),this.popupLogging("Открыл попап")}else this.popupLogging("Ой ой, такого попапа нет.Проверьте корректность ввода. ")}close(e){e&&"string"==typeof e&&""!==e.trim()&&(this.previousOpen.selector=e),this.isOpen&&s&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.youTubeCode&&this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&(this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""),this.previousOpen.element.classList.remove(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.classList.remove(this.options.classes.bodyActive),!this.bodyLock&&i(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout((()=>{this._focusTrap()}),50),this.popupLogging("Закрыл попап"))}_getHash(){this.options.hashSettings.location&&(this.hash=this.targetOpen.selector.includes("#")?this.targetOpen.selector:this.targetOpen.selector.replace(".","#"))}_openToHash(){let e=document.querySelector(`.${window.location.hash.replace("#","")}`)?`.${window.location.hash.replace("#","")}`:document.querySelector(`${window.location.hash}`)?`${window.location.hash}`:null;(document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`)?document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`):document.querySelector(`[${this.options.attributeOpenButton} = "${e.replace(".","#")}"]`))&&e&&this.open(e)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const t=this.targetOpen.element.querySelectorAll(this._focusEl),o=Array.prototype.slice.call(t),s=o.indexOf(document.activeElement);e.shiftKey&&0===s&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||s!==o.length-1||(o[0].focus(),e.preventDefault())}_focusTrap(){const e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}popupLogging(e){this.options.logging&&d(`[Попапос]: ${e}`)}}({});let p=(e,t=!1,o=500,s=0)=>{const n=document.querySelector(e);if(n){let i="",a=0;t&&(i="header.header",a=document.querySelector(i).offsetHeight);let r={speedAsDuration:!0,speed:o,header:i,offset:s,easing:"easeOutQuad"};if(document.documentElement.classList.contains("menu-open")&&u(),"undefined"!=typeof SmoothScroll)(new SmoothScroll).animateScroll(n,"",r);else{let e=n.getBoundingClientRect().top+scrollY;e=a?e-a:e,e=s?e-s:e,window.scrollTo({top:e,behavior:"smooth"})}d(`[gotoBlock]: Юхуу...едем к ${e}`)}else d(`[gotoBlock]: Ой ой..Такого блока нет на странице: ${e}`)};let m={getErrors(e){let t=0,o=e.querySelectorAll("*[data-required]");return console.log(),o.length&&o.forEach((e=>{null===e.offsetParent&&"SELECT"!==e.tagName||e.disabled||(t+=this.validateInput(e))})),t},validateInput(e){let t=0;return e.addEventListener("focusin",(function(t){console.log(e)})),"phone"===e.getAttribute("data-required")||e.classList.contains("_phone")?(console.log(e),e.value=e.value.replace(" ",""),this.phoneTest(e)?(this.addError(e),t++):this.removeError(e)):"email"===e.getAttribute("data-required")||e.classList.contains("_email")?(console.log(e),e.value=e.value.replace(" ",""),this.emailTest(e)?(this.addError(e),t++):this.removeError(e)):"text"===e.getAttribute("data-required")||e.classList.contains("_text")?(e.value=e.value.replace(" ",""),this.textTest(e)?(this.addError(e),t++):this.removeError(e)):("checkbox"!==e.type||e.checked)&&e.value?this.removeError(e):(this.addError(e),t++),t},addError(e){e.classList.add("_form-error"),e.parentElement.classList.add("_form-error");let t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t),e.dataset.error&&e.parentElement.insertAdjacentHTML("beforeend",`<div class="form__error">${e.dataset.error}</div>`)},removeError(e){e.classList.remove("_form-error"),e.parentElement.classList.remove("_form-error"),e.parentElement.querySelector(".form__error")&&e.parentElement.removeChild(e.parentElement.querySelector(".form__error"))},formClean(t){t.reset(),setTimeout((()=>{let o=t.querySelectorAll("input,textarea");for(let e=0;e<o.length;e++){const t=o[e];t.parentElement.classList.remove("_form-focus"),t.classList.remove("_form-focus"),m.removeError(t)}let s=t.querySelectorAll(".checkbox__input");if(s.length>0)for(let e=0;e<s.length;e++){s[e].checked=!1}if(e.select){let o=t.querySelectorAll(".select");if(o.length)for(let t=0;t<o.length;t++){const s=o[t].querySelector("select");e.select.selectBuild(s)}}}),0)},textTest:e=>!/^[0-9A-Za-zА-Яа-яІі'єЄ]{4,}/.test(e.value),phoneTest:e=>!/^\+[\d]{10,12}\d$/.test(e.value),emailTest:e=>!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)};e.watcher=new class{constructor(e){this.config=Object.assign({logging:!0},e),this.observer,!document.documentElement.classList.contains("watcher")&&this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.classList.add("watcher"),this.scrollWatcherConstructor(document.querySelectorAll("[data-watch]"))}scrollWatcherConstructor(e){if(e.length){this.scrollWatcherLogging(`Проснулся, слежу за объектами (${e.length})...`),h(Array.from(e).map((function(e){return`${e.dataset.watchRoot?e.dataset.watchRoot:null}|${e.dataset.watchMargin?e.dataset.watchMargin:"0px"}|${e.dataset.watchThreshold?e.dataset.watchThreshold:0}`}))).forEach((t=>{let o=t.split("|"),s={root:o[0],margin:o[1],threshold:o[2]},n=Array.from(e).filter((function(e){let t=e.dataset.watchRoot?e.dataset.watchRoot:null,o=e.dataset.watchMargin?e.dataset.watchMargin:"0px",n=e.dataset.watchThreshold?e.dataset.watchThreshold:0;if(String(t)===s.root&&String(o)===s.margin&&String(n)===s.threshold)return e})),i=this.getScrollWatcherConfig(s);this.scrollWatcherInit(n,i)}))}else this.scrollWatcherLogging("Сплю, нет объектов для слежения. ZzzZZzz")}getScrollWatcherConfig(e){let t={};if(document.querySelector(e.root)?t.root=document.querySelector(e.root):"null"!==e.root&&this.scrollWatcherLogging(`Эмм... родительского объекта ${e.root} нет на странице`),t.rootMargin=e.margin,!(e.margin.indexOf("px")<0&&e.margin.indexOf("%")<0)){if("prx"===e.threshold){e.threshold=[];for(let t=0;t<=1;t+=.005)e.threshold.push(t)}else e.threshold=e.threshold.split(",");return t.threshold=e.threshold,t}this.scrollWatcherLogging("Ой ой, настройку data-watch-margin нужно задавать в PX или %")}scrollWatcherCreate(e){this.observer=new IntersectionObserver(((e,t)=>{e.forEach((e=>{this.scrollWatcherCallback(e,t)}))}),e)}scrollWatcherInit(e,t){this.scrollWatcherCreate(t),e.forEach((e=>this.observer.observe(e)))}scrollWatcherIntersecting(e,t){e.isIntersecting?(!t.classList.contains("_watcher-view")&&t.classList.add("_watcher-view"),this.scrollWatcherLogging(`Я вижу ${t.classList}, добавил класс _watcher-view`)):(t.classList.contains("_watcher-view")&&t.classList.remove("_watcher-view"),this.scrollWatcherLogging(`Я не вижу ${t.classList}, убрал класс _watcher-view`))}scrollWatcherOff(e,t){t.unobserve(e),this.scrollWatcherLogging(`Я перестал следить за ${e.classList}`)}scrollWatcherLogging(e){this.config.logging&&d(`[Наблюдатель]: ${e}`)}scrollWatcherCallback(e,t){const o=e.target;this.scrollWatcherIntersecting(e,o),o.hasAttribute("data-watch-once")&&e.isIntersecting&&this.scrollWatcherOff(o,t),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:e}}))}}({});let g=!1;setTimeout((()=>{if(g){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);const f=document.querySelectorAll(".btn");console.log(f),f.forEach((e=>{e.addEventListener("click",(function(e){console.log(e.target.offsetLeft),console.log(e.target.offsetTop);var t=e.target.getBoundingClientRect();let o=e.clientX-t.left,s=e.clientY-t.top,n=document.createElement("span");n.style.left=o+"px",n.style.top=s+"px",this.appendChild(n),setTimeout((()=>{n.remove()}),500)}))}));const v=document.querySelector(".hero__video video"),y=document.querySelector(".offer__title"),w=document.querySelector(".offer__subtitle"),b=document.querySelector("._video-play-pc"),L=document.querySelector("._video-play-mob"),_=document.querySelector(".controls__play"),E=document.querySelector(".controls__pause"),A=()=>{v.play(),v.style.transition="filter 1.5s ease",v.style.filter="grayscale(0)  brightness(1)",y.style.opacity="0",w.style.opacity="0",_.style.display="none",E.style.display="inline-block",_.classList.add("played")},S=()=>{v.pause(),v.style.filter="grayscale(.7) brightness(.7)",y.style.opacity="1",w.style.opacity="1",_.style.display="inline-block",E.style.display="none"};(window.onload||b)&&v&&!t.any()?(b.addEventListener("mouseenter",A),b.addEventListener("mouseleave",S)):(window.onload||L)&&v&&t.any()&&L.addEventListener("click",(()=>{_.classList.contains("played")?(S(),_.classList.remove("played")):A()})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),t.any()&&document.documentElement.classList.add("touch"),window.addEventListener("load",(function(){setTimeout((function(){document.documentElement.classList.add("loaded")}),0)})),document.querySelector(".icon-menu")&&document.addEventListener("click",(function(e){(s&&e.target.closest(".icon-menu")||document.documentElement.classList.contains("menu-open")&&!e.target.closest(".menu__body")||document.documentElement.classList.contains("menu-open")&&e.target.closest(".menu__link"))&&(n(),c())})),function(){if(document.querySelectorAll("[data-fullscreen]").length&&t.any()){function e(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}window.addEventListener("resize",e),e()}}(),function(e={viewPass:!1}){const t=document.querySelectorAll("input[placeholder],textarea[placeholder]");t.length&&t.forEach((e=>{e.hasAttribute("data-placeholder-nohide")||(e.dataset.placeholder=e.placeholder)})),document.body.addEventListener("focusin",(function(e){const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||(t.dataset.placeholder&&(t.placeholder=""),t.hasAttribute("data-no-focus-classes")||(t.classList.add("_form-focus"),t.parentElement.classList.add("_form-focus")),m.removeError(t))})),document.body.addEventListener("focusout",(function(e){const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||(t.dataset.placeholder&&(t.placeholder=t.dataset.placeholder),t.hasAttribute("data-no-focus-classes")||(t.classList.remove("_form-focus"),t.parentElement.classList.remove("_form-focus")),t.hasAttribute("data-validate")&&m.validateInput(t))})),e.viewPass&&document.addEventListener("click",(function(e){let t=e.target;if(t.closest('[class*="__viewpass"]')){let e=t.classList.contains("_viewpass-active")?"password":"text";t.parentElement.querySelector("input").setAttribute("type",e),t.classList.toggle("_viewpass-active")}}))}({viewPass:!1}),function(t={validate:!0}){const o=document.forms;if(o.length)for(const e of o)e.addEventListener("submit",(function(e){s(e.target,e)})),e.addEventListener("reset",(function(e){const t=e.target;m.formClean(t)}));async function s(e,t){if(0===(e.hasAttribute("data-no-validate")?0:m.getErrors(e))){if(e.hasAttribute("data-ajax")){t.preventDefault();const o=e.getAttribute("action")?e.getAttribute("action").trim():"#",s=e.getAttribute("method")?e.getAttribute("method").trim():"GET",i=new FormData(e);e.classList.add("_sending");const a=await fetch(o,{method:s,body:i});if(a.ok){await a.json();e.classList.remove("_sending"),n(e)}else alert("Ошибка"),e.classList.remove("_sending")}else e.hasAttribute("data-dev")&&(t.preventDefault(),n(e))}else{t.preventDefault();const o=e.querySelector("._form-error");o&&e.hasAttribute("data-goto-error")&&p(o,!0,1e3)}}function n(t){document.dispatchEvent(new CustomEvent("formSent",{detail:{form:t}})),setTimeout((()=>{if(e.popup){const o=t.dataset.popupMessage;o&&e.popup.open(o)}}),0),m.formClean(t),d(`[Формы]: ${"Форма отправлена!"}`)}}(),function(){function e(e){if("click"===e.type){const t=e.target;if(t.closest("[data-goto]")){const o=t.closest("[data-goto]"),s=o.dataset.goto?o.dataset.goto:"",n=!!o.hasAttribute("data-goto-header"),i=o.dataset.gotoSpeed?o.dataset.gotoSpeed:500,a=o.dataset.gotoTop?parseInt(o.dataset.gotoTop):0;p(s,n,i,a),e.preventDefault()}}else if("watcherCallback"===e.type&&e.detail){const t=e.detail.entry,o=t.target;if("navigator"===o.dataset.watch){document.querySelector("[data-goto]._navigator-active");let e;if(o.id&&document.querySelector(`[data-goto="#${o.id}"]`))e=document.querySelector(`[data-goto="#${o.id}"]`);else if(o.classList.length)for(let t=0;t<o.classList.length;t++){const s=o.classList[t];if(document.querySelector(`[data-goto=".${s}"]`)){e=document.querySelector(`[data-goto=".${s}"]`);break}}t.isIntersecting?e&&e.classList.add("_navigator-active"):e&&e.classList.remove("_navigator-active")}}}if(document.addEventListener("click",e),document.addEventListener("watcherCallback",e),o()){let e;document.querySelector(`#${o()}`)?e=`#${o()}`:document.querySelector(`.${o()}`)&&(e=`.${o()}`),e&&p(e,!0,500,20)}}(),function(){g=!0;const e=document.querySelector("header.header"),t=e.hasAttribute("data-scroll-show"),o=e.dataset.scrollShow?e.dataset.scrollShow:500,s=e.dataset.scroll?e.dataset.scroll:1;let n,i=0;document.addEventListener("windowScroll",(function(a){const r=window.scrollY;clearTimeout(n),r>=s?(!e.classList.contains("_header-scroll")&&e.classList.add("_header-scroll"),t&&(r>i?e.classList.contains("_header-show")&&e.classList.remove("_header-show"):!e.classList.contains("_header-show")&&e.classList.add("_header-show"),n=setTimeout((()=>{!e.classList.contains("_header-show")&&e.classList.add("_header-show")}),o))):(n=setTimeout((()=>{e.classList.contains("_header-scroll")&&e.classList.remove("_header-scroll")}),0),t&&e.classList.contains("_header-show")&&e.classList.remove("_header-show")),i=r<=0?0:r}))}()})();